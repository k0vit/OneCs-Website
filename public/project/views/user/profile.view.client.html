<nav role="navigation" class="navbar-default navbar-fixed-top navbar-inverse">
    <div class="container">
        <div class="navbar-header">
            <button type="button"
                    class="navbar-toggle"
                    ng-click="model.isCollapsed = !model.isCollapsed">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#/home">
                <i class="fa fa-laptop"></i> OneCs
            </a>
        </div>
        <div class="navbar-collapse"
             ng-class="{collapse: model.isCollapsed}"
             ng-click="model.isCollapsed = !model.isCollapsed">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a ng-click="model.unregisterUser()" class="navbar-link">
                        <span class="glyphicon glyphicon-remove-circle"></span>
                        Unregister
                    </a>
                </li>
                <li>
                    <a ng-click="model.logout()" class="navbar-link">
                        <span class="glyphicon glyphicon-log-out"></span>
                        Sign-Out
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="container accordion-outer-div">
    <div ng-show="model.error" class="alert alert-danger">
        {{model.error}}
    </div>

    <div ng-show="model.success" class="alert alert-success">
        {{model.success}}
    </div>

    <div class="accordion-height" id="accordion">
        <h3>Profile</h3>
        <div>
            <form>
                <div class="form-group">
                    <label for="username">Username</label>
                    <input ng-model="model.user.username"
                           type="text"
                           class="form-control"
                           name="username"
                           id="username"
                           disabled/>
                </div>
                <div class="form-group">
                    <label for="first">First Name</label>
                    <input ng-model="model.user.firstName"
                           type="text"
                           class="form-control"
                           id="first"
                           name="firstName"
                           placeholder="Alice"
                           required
                           ng-class="{'validation': registerForm.firstName.$invalid && registerForm.$submitted}"/>
                    <span ng-show="registerForm.firstName.$invalid && registerForm.$submitted" class="validation">
                        Please enter your first name
                    </span>
                </div>
                <div class="form-group">
                    <label for="last">Last Name</label>
                    <input ng-model="model.user.lastName"
                           type="text"
                           class="form-control"
                           id="last"
                           placeholder="Wonderland"
                           required
                           name="lastName"
                           ng-class="{'validation': registerForm.lastName.$invalid && registerForm.$submitted}"/>
                    <span ng-show="registerForm.lastName.$invalid && registerForm.$submitted" class="validation">
                        Please enter your last name
                    </span>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input ng-model="model.user.email"
                           pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
                           type="email"
                           class="form-control"
                           id="email"
                           placeholder="alice@wonderland.com"
                           required
                           name="email"
                           ng-class="{'validation': registerForm.email.$invalid && registerForm.$submitted}"/>
                    <span ng-show="registerForm.email.$invalid && registerForm.$submitted" class="validation">
                        Please enter valid email address
                    </span>
                </div>
                <div class="form-group">
                    <label for="user-type">Role</label>
                    <select id="user-type"
                            class="form-control"
                            name="role"
                            ng-model="model.user.role"
                            ng-class="{'validation': (registerForm.role.$modelValue === 'default') ||
                             (registerForm.role.$invalid && registerForm.$submitted)}">
                        <option value="STUDENT">STUDENT</option>
                        <option ng-selected="true" value="default">Select User Role</option>
                        <!--<option value="Professor">Professor</option>
                        <option value="Employer">Employer</option>-->
                    </select>
                    <span ng-show="(registerForm.role.$modelValue === 'default') || (registerForm.role.$invalid && registerForm.$submitted)"
                          class="validation">
                        Please select your role
                    </span>
                </div>
                <button ng-click="model.updateUser()"
                        class="btn btn-primary btn-block"> Save Changes
                </button>
            </form>
        </div>
        <h3>Likes</h3>
        <div></div>
        <h3>Reviews</h3>
        <div></div>
    </div>
</div>

<script>
    $(function () {
        $("#accordion").accordion({
            heightStyle: "fill"
        });
    });
</script>
